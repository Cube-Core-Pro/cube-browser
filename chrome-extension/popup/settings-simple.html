        <style>
          .api-key-row {
            display: flex;
            gap: 8px;
            margin-top: 8px;
          }
          
          .api-key-input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: monospace;
            font-size: 12px;
          }
          
          .api-key-toggle {
            padding: 8px 12px;
          }
          
          .api-key-status {
            margin-top: 8px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
          }
          
          .model-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            margin-top: 8px;
          }
          
          .test-btn {
            width: 100%;
          }
        </style>
        <div class="settings-group">
          <h3>AI Chat (OpenAI)</h3>
          
          <div class="setting-item">
            <label>
              <span>OpenAI API Key</span>
              <small>Get your API key from <a href="https://platform.openai.com/api-keys" target="_blank" rel="noopener">platform.openai.com/api-keys</a></small>
            </label>
            <div class="api-key-row">
              <input type="password" id="openai-api-key" placeholder="sk-..." class="api-key-input" />
              <button id="toggle-api-key" class="btn btn-icon api-key-toggle" title="Show/Hide" type="button">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                </svg>
              </button>
            </div>
            <div id="api-key-status" class="api-key-status">
              <span class="status-dot" id="api-status-dot"></span>
              <span id="api-status-text">Not configured</span>
            </div>
          </div>

          <div class="setting-item">
            <label>
              <span>Model</span>
              <small>Select GPT model to use</small>
            </label>
            <select id="ai-model" class="model-select" title="Select AI model">
              <option value="gpt-5.1">GPT-5.1 (Best for Coding)</option>
              <option value="gpt-5-mini">GPT-5 Mini (Fast & Efficient)</option>
              <option value="gpt-5-nano">GPT-5 Nano (Fastest)</option>
              <option value="gpt-5-pro">GPT-5 Pro (Most Precise)</option>
              <option value="gpt-4.1">GPT-4.1 (Non-Reasoning)</option>
              <option value="gpt-5.1-codex">GPT-5.1 Codex (Coding Optimized)</option>
            </select>
          </div>

          <div class="setting-item">
            <button id="test-api-key" class="btn btn-primary test-btn" type="button">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
              </svg>
              <span>Test API Connection</span>
            </button>
          </div>
        </div>
