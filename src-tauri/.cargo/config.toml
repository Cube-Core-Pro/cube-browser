# Cargo configuration for CUBE Nexum
# This file configures environment variables and build settings
# NOTE: CEF_PATH should be set as environment variable before building:
#   export CEF_PATH="$HOME/.local/share/cef"
#   export DYLD_FALLBACK_LIBRARY_PATH="$CEF_PATH:$CEF_PATH/Chromium Embedded Framework.framework/Libraries"

# Don't set CEF_PATH here - use environment variable instead
# The cef-dll-sys crate requires absolute path

[target.aarch64-apple-darwin]
# macOS ARM64 specific settings
rustflags = [
    "-C", "link-arg=-Wl,-rpath,@executable_path/../Frameworks",
]

[target.x86_64-apple-darwin]
# macOS Intel specific settings
rustflags = [
    "-C", "link-arg=-Wl,-rpath,@executable_path/../Frameworks",
]

[target.x86_64-pc-windows-msvc]
# Windows specific settings
rustflags = []

[target.x86_64-unknown-linux-gnu]
# Linux specific settings
rustflags = [
    "-C", "link-arg=-Wl,-rpath,$ORIGIN",
]
